(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2356)}])},2356:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var s,l,a=r(5893),n=r(7294),i=r(9008),o=r.n(i);let c=e=>{let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"})})},d=e=>{let{className:t}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:[(0,a.jsx)("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 1.052.174 2.052.508 3.005 1.139 1.488 3.237 1.488 4.376 0l4.5-4.5c.944-.945.276-2.561-1.06-2.561h-2.372v-.884c0-.442-.358-.8-.8-.8s-.8.358-.8.8v.884Z"}),(0,a.jsx)("path",{d:"M10.5 19.94c0 1.336 1.616 2.005 2.56 1.06l4.5-4.5h2.432c1.141 0 2.318-.664 2.66-1.905A9.76 9.76 0 0 0 22.5 12c0-1.052-.174-2.052-.508-3.005-1.139-1.488-3.237-1.488-4.376 0l-4.5 4.5c-.944.945-.276 2.561 1.06 2.561h2.372v.884c0 .442.358.8.8.8s.8-.358.8-.8v-.884Z"})]})},x=e=>{let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:(0,a.jsx)("path",{d:"M3.478 2.404a.75.75 0 0 0-.926.941l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.519 60.519 0 0 0 18.445-8.986.75.75 0 0 0 0-1.218A60.517 60.517 0 0 0 3.478 2.404Z"})})},h=e=>{let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})})},u=e=>{let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})})},m=e=>{let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:t,children:(0,a.jsx)("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"})})},g=e=>{let{onSendMessage:t,isLoading:r}=e,[s,l]=(0,n.useState)(""),i=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=i.current;e&&(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"))},[s]);let o=()=>{s.trim()&&!r&&(t(s),l(""))};return(0,a.jsxs)("div",{className:"flex items-end gap-2 p-2 bg-gray-800 border border-gray-700 rounded-lg",children:[(0,a.jsx)("textarea",{ref:i,value:s,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),o())},placeholder:"Describe the task for your AI...",rows:1,className:"w-full bg-transparent resize-none focus:outline-none p-2 max-h-48",disabled:r}),(0,a.jsx)("button",{onClick:o,disabled:r||!s.trim(),className:"p-2 rounded-md bg-indigo-600 text-white disabled:bg-gray-600 disabled:cursor-not-allowed hover:bg-indigo-500 transition-colors flex-shrink-0","aria-label":"Send message",children:(0,a.jsx)(x,{className:"w-5 h-5"})})]})};(s=l||(l={})).USER="user",s.AI="ai";let f=e=>{let{code:t}=e,[r,s]=(0,n.useState)(!1);return(0,a.jsxs)("div",{className:"bg-gray-900/70 rounded-lg my-4 relative border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-800/50 rounded-t-lg border-b border-gray-700",children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm font-semibold",children:"POML Template"}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(t).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)})},className:"flex items-center gap-1.5 text-sm text-gray-300 hover:text-white transition-colors",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u,{className:"w-4 h-4 text-green-400"}),"Copied!"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{className:"w-4 h-4"}),"Copy"]})})]}),(0,a.jsx)("pre",{className:"p-4 text-sm overflow-x-auto text-gray-300",children:(0,a.jsx)("code",{children:t})})]})},w=e=>{let t=/\*\*(.*?)\*\*/g;return e.split("\n").map((e,r)=>(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.replace(t,"<strong>$1</strong>")}},r))},p=e=>{let{message:t}=e,{role:r,text:s}=t,n=r===l.AI,i=s.split(/(```xml[\s\S]*?```)/g).filter(e=>""!==e.trim()).map((e,t)=>{if(e.startsWith("```xml")){let r=e.replace(/^```xml\n|```$/g,"");return(0,a.jsx)(f,{code:r},t)}return(0,a.jsx)("div",{className:"prose prose-invert prose-sm max-w-none",children:w(e)},t)});return(0,a.jsxs)("div",{className:"flex items-start gap-4 my-4 ".concat(n?"":"justify-end"),children:[n&&(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(d,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("div",{className:"max-w-2xl ".concat(n?"":"flex items-end flex-col"),children:(0,a.jsx)("div",{className:"p-4 rounded-xl ".concat(n?"bg-gray-800":"bg-blue-600"),children:i})}),!n&&(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(c,{className:"w-5 h-5 text-white"})})]})};var v=()=>{var e;let t={id:"initial-ai-message",role:l.AI,text:"Hello! I am POML Architect. I can help you transform your idea into a high-quality POML prompt. What task do you want your AI to accomplish?"},[r,s]=(0,n.useState)([t]),[i,c]=(0,n.useState)(!1),[d,x]=(0,n.useState)(null),h=(0,n.useRef)(null);(0,n.useEffect)(()=>{var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[r]);let u=async e=>{if(!e.trim()||i)return;c(!0),x(null);let t={id:"user-".concat(Date.now()),role:l.USER,text:e},a=r.filter(e=>"initial-ai-message"!==e.id);s(e=>[...e,t,{id:"ai-".concat(Date.now()),role:l.AI,text:""}]);try{var n;let r=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,history:[...a,t]})});if(!r.ok){let e=await r.json();throw Error(e.error||"API request failed")}let i=null===(n=r.body)||void 0===n?void 0:n.getReader(),o=new TextDecoder;if(i)for(;;){let{done:e,value:t}=await i.read();if(e)break;let r=o.decode(t);s(e=>{let t=e[e.length-1];return t.role===l.AI?[...e.slice(0,-1),{...t,text:t.text+r}]:e})}}catch(e){x(e instanceof Error?e.message:"An unexpected error occurred."),console.error("API Fetch Error:",e),s(e=>e.slice(0,-2))}finally{c(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"POML Architect"}),(0,a.jsx)("meta",{name:"description",content:"Your Conversational Prompt Engineering Assistant"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("div",{className:"flex flex-col h-screen bg-gray-900 text-white font-sans",children:[(0,a.jsxs)("header",{className:"p-4 border-b border-gray-700 shadow-lg flex-shrink-0 flex items-center justify-center relative",children:[(0,a.jsx)("a",{href:"https://github.com/akshaykarthicks",target:"_blank",rel:"noopener noreferrer",className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors","aria-label":"Akshay Karthick's GitHub Profile",children:(0,a.jsx)(m,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-200",children:"POML Architect"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Your Conversational Prompt Engineering Assistant"})]})]}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl mx-auto",children:[r.map(e=>(0,a.jsx)(p,{message:e},e.id)),i&&(null===(e=r[r.length-1])||void 0===e?void 0:e.text)===""&&(0,a.jsx)("div",{className:"flex justify-start items-center ml-12",children:(0,a.jsxs)("div",{className:"animate-pulse flex space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-indigo-400 rounded-full"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animation-delay-200"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animation-delay-400"})]})}),(0,a.jsx)("div",{ref:h})]})}),(0,a.jsx)("footer",{className:"p-4 border-t border-gray-700 flex-shrink-0",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl mx-auto",children:[d&&(0,a.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-red-900/50 border border-red-500 text-red-300 text-center text-sm",children:d}),(0,a.jsx)(g,{onSendMessage:u,isLoading:i})]})})]})]})}},9008:function(e,t,r){e.exports=r(7828)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);